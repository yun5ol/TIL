# Java (12)

ì‘ì—…ì¤‘: In progress
íƒœê·¸: Dev, ë°±ì—”ë“œí”„ë¡œê·¸ë˜ë°, ì›¹&ëª¨ë°”ì¼, ìë°”í”„ë¡œê·¸ë˜ë°ê¸°ì´ˆ
í•™ìŠµì¼: 01/12/2023

## 04. ê°ì²´ ìƒì„± ë° ì£¼ì… ìë™í™”, ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì •

---

### ì˜ì¡´ê°ì²´ (dependency)

ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê°ì²´

<aside>
ğŸ“ ê°ì²´ì§€í–¥ì€ í´ë˜ìŠ¤ê°„ ê´€ê³„ íŒŒì•…ì´ ìš°ì„ 

</aside>

### SpringBoot  í•µì‹¬ ë¶€í’ˆ

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled.png)

### IoC Container ì—ì„œ ìƒì„± ë° ê´€ë¦¬í•˜ëŠ” ê°ì²´ : **ìŠ¤í”„ë§ ì»´í¬ë„ŒíŠ¸**

- IoC (Inversion of Control ì œì–´ì˜ ì—­í–‰)
    1. ì˜ì¡´ê°ì²´ ì£¼ì… (Dependency Injection ; DI)
    2. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì™¸ë¶€ ì´ë²¤íŠ¸ì— ì˜í•´ í˜¸ì¶œ)
    
    > class = bean (ì£¼ë¡œ setter/getter ì†Œìœ ) â†’ ì˜¤ë¥˜ì‹œ,  ì½˜ì†” í™•ì¸ ê°€ëŠ¥
    ë”°ë¼ì„œ, bean ì»¨í…Œì´ë„ˆë¼ ë¶€ë¥´ê¸°ë„
    > 
- @Component
    - íŠ¹ì •í•œ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ë¶€í’ˆ
    - **1ê°œ ì´ìƒ**ì˜ í´ë˜ìŠ¤ë¡œ êµ¬ì„±ëœ ë¶€í’ˆ
- eg. íšŒì›ê´€ë¦¬

![ì»´í¬ë„ŒíŠ¸ëŠ” ìƒëŒ€ì ì¸ ê²ƒ](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%201.png)

ì»´í¬ë„ŒíŠ¸ëŠ” ìƒëŒ€ì ì¸ ê²ƒ

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%202.png)

- Componentë¥¼ ì—­í• ì— ë”°ë¼ ë¶„ë¥˜ (ì œì–´ê°€ ìš©ì´, ì¡°íšŒ/ìƒì„±/ì œì™¸ ë“±)
    
    @Controller
    
    @RestController
    
    @Service
    
    @Repository : DAO ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ì— ëŒ€í•´ì„œ ë¶™ì¸ë‹¤.
    
    â€¦
    

### ì‹¤ìŠµ ì˜ˆì œ

> eg.
> 
> 
> TeacherController ì˜ ì˜ì¡´ê°ì²´ : TeacherDao
> 
> ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë˜ TeacherDao í•„ìš” (ê°œë°œìê°€ TeacherDao ê°ì²´ ìë™ ìƒì„±)
> 
> Teacher : Data Transfer Object (DTO) = Value Object (VO) = Domain Object
> 

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%203.png)

@ì• ë…¸í…Œì´ì…˜ ì‚¬ìš©

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%204.png)

ìƒì„±ì ìƒì„±ì„ ë” ì„ í˜¸

â†’ ctrl + space

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%205.png)

- ì• ë…¸í…Œì´ì…˜ ì˜¤ë¥˜ ì‹œ, ì‹¤í–‰ë¶€í„° ì˜¤ë¥˜

![required a beanâ€¦](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%206.png)

required a beanâ€¦

## 04-2. SpringBoot ì„¤ì •

---

### ì‹¤ìŠµ ì˜ˆì œ

ê³µí†µëœ controller ê¸°ëŠ¥ì„ íŒ¨í‚¤ì§€  ìƒì„±í•˜ì—¬ í•œ í´ë˜ìŠ¤ë¡œ ê¸€ë¡œë²Œ ì„¤ì •í•˜ê¸°

`WebConfig` 

WebMvcConfigurer ê·œì¹™ì— ë”°ë¥¸ë‹¤.

Config íŒ¨í‚¤ì§€ ìƒì„± >

```java
@Configuration
@EnableWebMvc
public class WebConfig {
}
```

`@Configuration`

ì„¤ì •ì— ê´€ë ¨ëœ ì¼ì„ í•˜ëŠ” í´ë˜ìŠ¤ì„ì„ ì„ ì–¸í•œë‹¤.

ì¦‰ ìŠ¤í”„ë§ ì»´í¬ë„ŒíŠ¸ë¡œ ì„ ì–¸, í‘œì‹œí•˜ëŠ” ê²ƒì´ë‹¤.

Spring IoC ì»¨í…Œì´ë„ˆëŠ” ì´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìë™ ìƒì„±í•œë‹¤.

`@EnableWebMvc`

Spring í”„ë ˆì„ì›Œí¬ì—ì„œ WebMVC ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê´€ë ¨ ê°ì²´ë¥¼ ì¤€ë¹„ì‹œí‚¤ëŠ” ì„ ì–¸

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì‘í•  ë•Œ ì‚¬ìš©í•  ë„êµ¬ê°€ ì™„ì „íˆ êµ¬ë¹„ëœë‹¤.

SpringBootì˜ ê²½ìš° ì´ ì• ë…¸í…Œì´ì…˜ì„ ìƒëµí•´ë„ ëœë‹¤.

`**implements WebMvcConfigurer**`

ì´ í´ë˜ìŠ¤ëŠ” WebMvcConfigurer ê·œì¹™ì— ë”°ë¼ ë©”ì„œë“œë¥¼ ë§Œë“¤ì—ˆìŒì„ ì„ ì–¸í•œë‹¤.

Spring WebMVC í”„ë ˆì„ì›Œí¬ëŠ” ì´ í´ë˜ìŠ¤ì˜ ì •ì˜ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì„¤ì •ì„ ì™„ì„±í•œë‹¤.

```java
@Configuration
@EnableWebMvc
public class WebConfig implements WebMvcConfigurer {

    // Implement configuration methods...
}
```

> 
> 
> 
> ê·œì¹™ : (WebMvcConfigurer > ctrl ëˆ„ë¥¸ì±„ ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ê¸°) 
> 
> ë‹¨, ëª¨ë“  ë©”ì„œë“œë¥¼ ì •ì˜í•  í•„ìš”ëŠ” ì—†ë‹¤.
> 
> ì´ í”„ë¡œì íŠ¸ ìš”êµ¬ ì¡°ê±´ì— ë§ì¶° ì„¤ì •í•˜ë©´ ëœë‹¤.
> 
>  (=ê³ ê°í™”, ì»¤ìŠ¤í„°ë§ˆì´ì§•)
> 

![Untitled](Java%20(12)%2027685bf198324a308f00c92c0b97ed62/Untitled%207.png)

`addCorsMappings(CorsRegistry)` ë©”ì„œë“œ

Cross-Origin ê´€ë ¨í•˜ì—¬ **ê¸°ë³¸ ê°’ ì™¸ì— ì¶”ê°€ë¡œ ì„¤ì •í•  ê²Œ ìˆë‹¤ë©´ ë©”ì„œë“œë¥¼ ì •ì˜**í•œë‹¤.

ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì‹œì‘ë˜ë©´ ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ CrossOriginì„ ì„¤ì •í•  ê²ƒì´ë‹¤.

```java
@Override
    public void addCorsMappings(CorsRegistry registry) {

        registry.addMapping("/api/**")
            .allowedOrigins("https://domain2.com")
            .allowedMethods("PUT", "DELETE")
            .allowedHeaders("header1", "header2", "header3")
            .exposedHeaders("header1", "header2")
            .allowCredentials(true).maxAge(3600);

        // Add more mappings...
    }
}
```

## 05. ìƒì†í™œìš©

ìƒì†í•˜ë©´ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ë³¸ì¸ ê²ƒ ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆë‹¤.

- ê¸°ë²•1

ì—¬ëŸ¬ í´ë˜ìŠ¤ì˜ ì¤‘ë³µë˜ëŠ” ê³µí†µ í•„ë“œë‚˜ ë©”ì„œë“œë¥¼ ì¶”ì¶œí•˜ì—¬ ì •ì˜

= **generalization ì¼ë°˜í™”**

```java
public class Student extends Member {

  private String postNo;
  private String basicAddress;
...
```

**super í´ë˜ìŠ¤ (parent)** ê³µí†µ ì½”ë“œë¥¼ ê°€ì§

**sub í´ë˜ìŠ¤ (child)**

- ê¸°ë²•2

ê¸°ëŠ¥ì„ í™•ì¥í•˜ì—¬ ë” ì „ë¬¸í™”ë˜ë„ë¡ ì •ì˜

= **specialization ì „ë¬¸í™”**

<aside>
ğŸ“ í™”ì‚´í‘œëŠ” superë¥¼ í–¥í•œë‹¤. `â€œí™•ì¥â€ extends` (ë¬¼ë ¤ì£¼ëŠ” ê°œë…ì´ ì•„ë‹ˆë‹¤.)

</aside>

---

ìƒì„±ì í˜¸ì¶œ

íŒŒë¼ë¯¸í„°ì— ì „ë‹¬í•˜ëŠ” ê°’ì— ë”°ë¼ í˜¸ì¶œ í•  ìƒì„±ìê°€ ê²°ì •ëœë‹¤.

ê°’ì´ ì—†ìœ¼ë©´ â€˜ê¸°ë³¸ ìƒì„±ìâ€™ default constructor

ìƒì„±ì - this() 440

ë‹¤ë¥¸ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” **this**()ë¥¼ ì‚¬ìš©í•œë‹¤.

ë‹¨, ìƒì„±ìì˜ ì²« ë¬¸ì¥ìœ¼ë¡œ ì™€ì•¼ í•œë‹¤.

ì¸ìŠ¤í„´ìŠ¤ ë¸”ë¡ ì½”ë“œëŠ”

ìƒì„±ì ë§¨ ì•ì—!!! í•­ìƒ!!!!!

ë¸”ë¡ì´ ì—¬ëŸ¬ê°œë©´ ìˆœì°¨ì ìœ¼ë¡œ ë§¨ ì•ì—

```mermaid
// ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ë¸”ë¡(initializer block)
    {
      a = 111;
      System.out.println("ì´ˆê¸°í™” ë¸”ë¡ ì‹¤í–‰");
    }

    // í•„ë“œ ì´ˆê¸°í™” ë¬¸ì¥(variable initializer)
    int a = 100;
  }
```

ìƒì„±ì

=> í´ë˜ìŠ¤ ì´ë¦„ê³¼ ê°™ì€ ì´ë¦„ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ë§Œë“ ë‹¤.

=> ë¦¬í„´ íƒ€ì…ì„ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰ ê°’ì„ ë¦¬í„´í•˜ì§€ ì•ŠëŠ”ë‹¤.

=> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ìë™ í˜¸ì¶œëœë‹¤.

ì¼ë°˜ ë©”ì„œë“œì²˜ëŸ¼ ë‚˜ì¤‘ì— ë”°ë¡œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.

=> ë§Œì•½ ê°œë°œìê°€ ìƒì„±ìë¥¼ ë§Œë“¤ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ëŸ¬ê°€ ê¸°ë³¸ ìƒì„±ìë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.

ë”°ë¼ì„œ ëª¨ë“  í´ë˜ìŠ¤ëŠ” ë°˜ë“œì‹œ í•œ ê°œ ì´ìƒì˜ ìƒì„±ìê°€ ìˆë‹¤.

=> ë³´í†µ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  í›„ì— ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”ì‹œí‚¤ëŠ” ìš©ë„ë¡œ ì •ì˜í•œë‹¤.

=> ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ì œëŒ€ë¡œ ì“°ì¼ ìˆ˜ ìˆë„ë¡ ìœ íš¨í•œ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ì‹œí‚¤ëŠ” ì¼ì„ í•œë‹¤.

=> ë‹¤ìŒê³¼ íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ìƒì„±ìê°€ ê¸°ë³¸ ìƒì„±ìì´ë‹¤.(**default** constructor)

Score() {

System.***out***.println("Score()");

}