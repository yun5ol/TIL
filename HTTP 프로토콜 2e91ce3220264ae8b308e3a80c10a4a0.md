# HTTP í”„ë¡œí† ì½œ

êµì¬: Do it! ì›¹í‘œì¤€ì˜ì •ì„
ì‘ì—…ì¤‘: In progress
íƒœê·¸: Dev, ì›¹&ëª¨ë°”ì¼, ì›¹í”„ë¡œê·¸ë˜ë°ê¸°ì´ˆ
í•™ìŠµì¼: 11/25/2022

## 1. ìš”ì²­ê³¼ ì‘ë‹µ ê·œì¹™

### 1.1 ë„¤íŠ¸ì›Œí‚¹

- Connectionless (ë¹„ì—°ê²°) : ì—°ê²° ì—†ì´ ë°ì´í„° ì „ì†¡ eg. í¸ì§€, ë°©ì†¡
    - **UDP** : ë°ì´í„° ì „ì†¡ ì‹ ë¢°ì„± ì—†ìœ¼ë¯€ë¡œ ë³„ë„ì˜ ì²˜ë¦¬ í•„ìš” (HTTP 3)
- Connection-oritented (ì—°ê²° ì§€í–¥) : ì—°ê²° í›„ í†µì‹  eg. ì „í™”
    - **TCP** : ë°ì´í„° ì „ì†¡ ì‹ ë¢°ì„± í™•ë³´ (HTTP 1, 2)
    
    > Connetion-oritented
    > 
    > - stateful : ì ì€ ìˆ˜ì˜ í´ë¼ì´ì–¸íŠ¸ì— ëŒ€ì‘
    >     
    >     1ë²ˆì˜ ì—°ê²° í›„ ì—°ê²°ì´ ëŠê¸¸ ë•Œ ê¹Œì§€ ì—°ê²°-ìš”ì²­-ì‘ë‹µ ê³¼ì •ì„ ë°˜ë³µ (1íšŒ ì—°ê²°, ë‹¤íšŒ í†µì‹ )
    >     
    >     â€œthread ê¸°ìˆ â€
    >     
    > - stateless : ë§ì€ ìˆ˜ì˜ í´ë¼ì´ì–¸íŠ¸ì— ëŒ€ì‘ ê°€ëŠ¥
    >     
    >     1ë²ˆì˜ ì—°ê²° í›„ ì—°ê²°-ìš”ì²­-ì‘ë‹µ ê³¼ì •ì„ ê±°ì¹˜ê³  ì—°ê²°ì„ ëŠìŒ (1íšŒ ì—°ê²°, 1íšŒ í†µì‹ )
    >     
    >     **HTTPëŠ” stateless**, ì¦‰ state ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ìš”ì²­/ì‘ë‹µí•˜ëŠ” ì •ë³´ê°€ ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
    >     

![Untitled](HTTP%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%90%E1%85%A9%E1%84%8F%E1%85%A9%E1%86%AF%202e91ce3220264ae8b308e3a80c10a4a0/Untitled.png)

### 1.2 proxy server

: client ì™€ server ì‚¬ì´ í†µì‹ ì„ ì¤‘ì¬

![Untitled](HTTP%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%90%E1%85%A9%E1%84%8F%E1%85%A9%E1%86%AF%202e91ce3220264ae8b308e3a80c10a4a0/Untitled%201.png)

í´ë¼ì´ì–¸íŠ¸ê°€ í”„ë¡ì‹œì„œë²„ì— ìš”ì²­

â¡í”„ë¡ì‹œì„œë²„ê°€ ì„œë²„ì— ìš”ì²­

â¡ì„œë²„ê°€ í”„ë¡ì‹œì„œë²„ì— ì‘ë‹µ

- cache ê°€ í”„ë¡ì‹œì„œë²„ë¡œ ë¶€í„° ì‘ë‹µ ë°ì´í„°ë¥¼ ë³´ê´€
    
    â†’ê°™ì€ ìì›ì„ ìš”ì²­í•  ë•Œ ë³´ê´€ëœ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ì „ë‹¬
    
    â†’ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ê°ì‹œ
    
    â†’ì‘ë‹µ ì†ë„ ê°œì„ 
    
- cacheê°€ í”„ë¡ì‹œì„œë²„ë¥¼ ëª¨ë‹ˆí„°ë§ (HTTP í†µì‹ ì„ ì‚´í´ë³¼ ìˆ˜ ìˆìŒ)
    
    â†’ìš”ì²­/ì‘ë‹µ ë‚´ìš© ê°ì‹œ
    
    â†’ë³´ì•ˆ ê°•í™”
    

â¡í”„ë¡ì‹œ ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µ

### 1.3 request ê·œì¹™

- **starter line**

í•´ë‹¹ requestê°€ ì–´ë–¤ actionì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì •ë³´ë¥¼ ë‹´ëŠ”ë‹¤. request target (URL) ì–´ë–¤ ê³³ì—ë‹¤ê°€ ìš”ì²­í•˜ëŠ”ì§€ ë‚´í¬í•œë‹¤.

- **header**

í•´ë‹¹ requestì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ë¥¼ ë‹´ê³ ìˆë‹¤.

key : value ê°’

request target ë„ ì£¼ì†Œ. hostë„ ì£¼ì†Œ. ë‘ ê°œë¥¼ í•©ì³ì„œ ë³´ê³  ì„œë²„ê°€ ì•Œê²Œ ëœë‹¤.

- **body**

ë°ì´í„°ê°€ ë‹´ê²¨ìˆëŠ” ë¶€ë¶„.

```html
method/URI protocol/version

GET /test.html HTTP/1.1       **"start line"**
Host: google.com              **"headers"**  1. ìš”ì²­í—¤ë”
Accept: text/html                        2. ê³µí†µí—¤ë”
Accept-Encoding: gzip, deflate           3. entity í—¤ë”
Conneciont: keep-alive

hl=ko&ogbl=0&page=99          **"body"**    
```

<aside>
ğŸ’¡ URI (Uniform Resource Identifier)  ë‹¨ì¼í™”ëœ ìì›ì„ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ì
URL (Uniform Resource Locator)  https://~~.com       https://ì„œë²„:í¬íŠ¸/O/O/O
URN (Uniform Resource Name)  O:O:O

</aside>

### 1.4 response ê·œ

- **status line**

responseì˜ ìƒíƒœë¥¼ ê°„ëµí•˜ê²Œ ë‚˜íƒ€ë‚´ëŠ” ë¶€ë¶„ìœ¼ë¡œ 3ê°€ì§€ë¡œ êµ¬ì„±

HTTPë²„ì „

status code : ì‘ë‹µ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì½”ë“œ

status text : ì‘ë‹µ ìƒíƒœë¥¼ ê°„ëµí•˜ê²Œ ì„¤ëª…í•´ì£¼ëŠ” ë¶€ë¶„

- **headers**

ì‘ë‹µì— ëŒ€í•œ ë¶€ì—° ì„¤ëª…

ë‹¤ë§Œ responseì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” header ê°’ë“¤ì´ ìˆë‹¤. eg. `User-Agent` ëŒ€ì‹  `Server` í—¤ë”ê°€ ìˆë‹¤.

- **body**

responseì˜ bodyì™€ ì¼ë°˜ì ìœ¼ë¡œ ë™ì¼í•˜ë‹¤.

requestì™€ ë§ˆì°¬ê°€ì§€ë¡œ ëª¨ë“  responseê°€ body ê°€ ìˆì§€ëŠ” ì•Šë‹¤. ë°ì´í„°ë¥¼ ì „ì†¡í•  í•„ìš”ê°€ ì—†ì„ ê²½ìš° bodyëŠ” ë¹„ì–´ìˆë‹¤.

```html
í”„ë¡œí† ì½œë²„ì „ ìƒíƒœì½”ë“œê°’ ìƒíƒœì—ëŒ€í•œì„¤ëª…

HTTP/1.1 200 OK         **"status line"**
Date: Sun, 26 June ...  **"headers"**  1. ì‘ë‹µí—¤ë”
Server: Apache                     2. ê³µí†µí—¤ë”
Content-Length: 35                 3. entity í—¤ë”
Content-Type: text/html

<h1>Hello World</h1>    **"body"**
```

### 1.5 HTTP method ë€?

: http request ê°€ ì˜ë„í•˜ëŠ” actionì„ ì •ì˜í•œ ê²ƒ.

`get`

ì„œë²„ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ì·¨ë“

`post`

ì„œë²„ì— ë°ì´í„°ë¥¼ ì¶”ê°€, ì‘ì„± ë“±, ì´ë•Œ ë³´ë‚´ëŠ” ë°ì´í„°ëŠ” message-body

`put`

ë°ì´í„°ë¥¼ ê°±ì‹ , ì‘ì„± ë“± 

`delete`

ë°ì´í„°ë¥¼ ì„œë²„ì—ì„œ ì‚­ì œìš”ì²­

> **CRUD**
> 
> 
> Create, Read, Update, Delete ë¥¼ ì˜ë¯¸
> 
> HTTP ë©”ì†Œë“œì—ì„œ get, post, put, delete ê°€ ê° CRUD ì—­í• ì„ í•œë‹¤.
> 
> - Create : post/put
> - Read : get
> - Update : put
> - Delete : delete

## 2. get/postìš”ì²­ ë¹„êµ :get ìš”ì²­

**get request** : ì„œë²„ë¡œ ë¶€í„° ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” method

ë‹¨ìˆœíˆ ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë¼, ë¸Œë¼ìš°ì €ì— ìºì‰¬ë„ ë˜ê³  ì•„ë˜ ì²˜ëŸ¼ URLì— query stringì´ ê·¸ëŒ€ë¡œ ë…¸ì¶œëœë‹¤.

```html
Get /html/for/exam02?name=aaa&age=11
path(ìì›ì˜ì£¼ì†Œ)íŒŒë¼ë¯¸í„°í˜• "query string"  : dataë¥¼ URLì— ë¶™ì—¬ì„œ ë³´ë‚¸ë‹¤.
								name : íŒŒë¼ë¯¸í„° ëª…
								aaa, age=11 : íŒŒë¼ë¯¸í„° ê°’
								& : íŒŒë¼ë¯¸í„°ì™€ íŒŒë¼ë¯¸í„°ë¥¼ êµ¬ë¶„í•˜ëŠ” êµ¬ë¶„ì
```

â— **í•œê³„** 

- ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤ : í¬ë§·ì´ ê¹¨ì§„ë‹¤.
    - ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ í…ìŠ¤íŠ¸ë¡œ ì¸ì½”ë”©í•˜ë©´ ê°€ëŠ¥
- URI í¬ê¸°ì˜ ì œí•œ ë•Œë¬¸ì— ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤.
- URL > ë¸Œë¼ìš°ì € ìºì‹œì— ë³´ê´€ : ë³´ì•ˆì´ ì•ˆ ëœë‹¤.
- content-typeì´ ì—†ë‹¤.

> **text ë°ì´í„°** : ì¼ë°˜ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ í¸ì§‘ ê°€ëŠ¥í•œ í¬ë§·
> 
> 
> eg. .txt, .rtf, .html, .css, .js, .xml, .json, .properties, .java, .py â€¦
> 
> **binary ë°ì´í„°** : byte ë‹¨ìœ„ë¡œ í¬ë§·, ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í¸ì§‘ ë¶ˆê°€í•˜ë©° ì „ìš© app. ì‚¬ìš© (í¬ë§·ì´ ê¹¨ì§„ë‹¤)
> 
> eg. .jpeg, .gif, .png, .mp3, .mp4, .avi, .doc â€¦
> 

## 3. get/postìš”ì²­ ë¹„êµ :post ìš”ì²­

**post request** : ì„œë²„ì— ì •ë³´ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë³€í˜•í•˜ëŠ” method

URLì— ìš”ì²­í•˜ì§€ ì•Šê³  ë³„ë„ì˜ payload (ì „ì†¡ë˜ëŠ” data) ì— ì •ë³´ë¥¼ ë‹´ì•„ ìš”ì²­í•œë‹¤.

- binay ë°ì´í„° ì „ì†¡ ê°€ëŠ¥
- URLì— ë…¸ì¶œë˜ì§€ ì•ŠìŒ
- ì—¬ëŸ¬ê°œì˜ íŒŒì¼ ì²¨ë¶€ ê°€ëŠ¥
- ìš©ëŸ‰ ì œí•œ x
- content-typeì´ ìˆë‹¤.

> **multipart/form  data í˜•ì‹ìœ¼ë¡œ íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ëŠ” ë°©ë²•**
name ì˜µì…˜ì´ ì—†ëŠ” ë°ì´í„° ê°’ì€ ì„œë²„ì— ì „ì†¡í•˜ì§€ ì•ŠëŠ”ë‹¤.

ê¸°ë³¸ ì¸ì½”ë”© í¼ 
application/x-www-form-urlencoded enctpy=â€multipart/form-dataâ€
â¡ì¸ì½”ë”© í¼ì„ ë³€ê²½
â¡íŒŒì¼ ìì²´ ì„œë²„ì— ì „ì†¡

íƒ€ì… file ì— multipart ë¥¼ ë¶™ì—¬ì•¼ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ ì „ì†¡ì´ ê°€ëŠ¥í•˜ë‹¤.
>